/*
* Created by: Dani Koding (Full Stack Web Dev.)

* Open jasa:
* - Joki All Tier MLBB
* - Design Website
* - Design Website Store/E-commerce Website
* - Create Script WhatsApp Bot
* - Create REST API (expressJS)
* - Dan lain-lain

* Jika minat, silahkan hub: 089512545999 (Dani)
*/
const axios = require('axios')
const cheerio = require('cheerio')

function ringtone(title) {
    return new Promise((resolve, reject) => {
        axios.get('https://meloboom.com/en/search/'+title)
        .then((get) => {
            let $ = cheerio.load(get.data)
            let hasil = []
            $('#__next > main > section > div.jsx-2244708474.container > div > div > div > div:nth-child(4) > div > div > div > ul > li').each(function (a, b) {
                hasil.push({ title: $(b).find('h4').text(), source: 'https://meloboom.com/'+$(b).find('a').attr('href'), audio: $(b).find('audio').attr('src') })
            })
            resolve(hasil)
		})
		.catch(reject)
		})
}

module.exports = ringtone